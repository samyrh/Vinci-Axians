<!doctype html>
<html class="no-js " lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">
  <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
  <meta name="description" content="Responsive Bootstrap 4 and web Application ui kit.">
  <title>VINCI ENERGIES || ADMIN SIDE</title>
  <link rel="icon" href="/assets/images/VinciLogo.png" type="image/x-icon"> <!-- Favicon-->
  <link rel="stylesheet" href="/assets/plugins/bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" href="/assets/plugins/jvectormap/jquery-jvectormap-2.0.3.min.css"/>
  <link rel="stylesheet" href="/assets/plugins/charts-c3/plugin.css"/>
  <link rel="stylesheet" href="/assets/plugins/morrisjs/morris.min.css" />
  <!-- JQuery DataTable Css -->
  <link rel="stylesheet" href="/assets/plugins/jquery-datatable/dataTables.bootstrap4.min.css">
  <link rel="stylesheet" href="/assets/plugins/jquery-steps/jquery.steps.css">
  <!-- Custom Css -->
  <link rel="stylesheet" href="/assets/css/style.min.css">
  <!-- Bootstrap Select Css -->
  <link href="/assets/plugins/bootstrap-select/css/bootstrap-select.css" rel="stylesheet" />


  <style>
    .modal-header {
      background-color: #007bff;
      color: white;
    }

    .badge-admin {
      background-color: red;
      color: white;
    }
    .badge-manager {
      background-color: #7b00ff;
      color: #ffffff;
    }
    .badge-user {
      background-color: green;
      color: white;
    }
    .badge-guest {
      background-color: blue;
      color: white;
    }
    .badge-default {
      background-color: gray;
      color: white;
    }
  </style>
  <style>


        /* General Styles */
    /* Center the button */
    .text-center {
      text-align: center;
    }

    /* Style the button */
    .btn-primary {
      background: #007bff; /* Bootstrap blue color */
      border: none;
      color: #fff;
      padding: 10px 20px;
      font-size: 16px;
      border-radius: 5px;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .btn-primary:hover {
      background: #0056b3; /* Darker blue on hover */
    }

    /* Create wavy effect */
    .wavy-button {
      display: inline-block;
      position: relative;
      overflow: hidden;
      z-index: 1;
    }

    .wavy-button::before {
      content: "";
      position: absolute;
      top: -50%;
      left: 50%;
      width: 200%;
      height: 300%;
      background: rgba(255, 255, 255, 0.2);
      transform: rotate(-30deg);
      z-index: -1;
      animation: wave-animation 2s infinite linear;
    }

    @keyframes wave-animation {
      0% {
        transform: translateX(-100%) rotate(-30deg);
      }
      100% {
        transform: translateX(100%) rotate(-30deg);
      }
    }

    .form-group {
      margin-bottom: 1rem;
    }

    .form-control {
      width: 100%;
      padding: 0.75rem;
      font-size: 1rem;
      border: 1px solid #ccc;
      border-radius: 0.25rem;
    }

    /* Error and Success Styles */
    input.error {
      border-color: #dc3545;
    }

    input.success {
      border-color: #28a745;
    }

    .form-text {
      color: #dc3545;
      font-size: 0.875rem;
    }

    .form-text.success {
      color: #28a745;
    }

    /* Popup Styles */
    .popup {
      display: none;
      position: fixed;
      top: 0;
      right: 0;
      margin: 1rem;
      width: 300px;
      background: #fff;
      border: 1px solid #ccc;
      border-radius: 0.25rem;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
      z-index: 1000;
    }

    .popup-content {
      padding: 1rem;
    }

    .popup-close {
      display: block;
      text-align: right;
      font-size: 1.25rem;
      cursor: pointer;
    }

    .popup-message {
      margin-top: 0.5rem;
    }

    /* Password Fields */
    .password-wrapper {
      position: relative;
      margin-bottom: 1rem;
    }

    .password-wrapper input {
      width: 100%;
      padding-right: 2rem; /* Space for the toggle */
    }

    .password-wrapper .password-toggle {
      position: absolute;
      top: 50%;
      right: 0.75rem;
      transform: translateY(-50%);
      cursor: pointer;
      font-size: 1.25rem;
    }

    /* Date Picker */
    input[type="date"] {
      width: 100%;
      padding: 0.75rem;
      font-size: 1rem;
      border: 1px solid #ccc;
      border-radius: 0.25rem;
    }

  </style>

</head>

<body class="theme-blush">

<!-- Page Loader -->
<div class="page-loader-wrapper">
  <div class="loader">
    <div class="m-t-30"><img class="zmdi-hc-spin" src="/assets/images/VinciLogo.png" width="200" height="200" alt="Aero"></div>
    <p>Please wait...</p>
  </div>
</div>

<!-- Overlay For Sidebars -->
<div class="overlay"></div>

<!-- Main Search -->
<div id="search">
  <button id="close" type="button" class="close btn btn-primary btn-icon btn-icon-mini btn-round">x</button>
  <form>
    <input type="search" value="" placeholder="Search..." />
    <button type="submit" class="btn btn-primary">Search</button>
  </form>
</div>

<!-- Right Icon menu Sidebar -->
<div class="navbar-right">
  <ul class="navbar-nav">
    <li><a href="#search" class="main_search" title="Search..."><i class="zmdi zmdi-search"></i></a></li>
    <li class="dropdown">
      <a href="javascript:void(0);" class="dropdown-toggle" title="App" data-toggle="dropdown" role="button"><i class="zmdi zmdi-apps"></i></a>
      <ul class="dropdown-menu slideUp2">
        <li class="header">App Sortcute</li>
        <li class="body">
          <ul class="menu app_sortcut list-unstyled">
            <li>
              <a href="image-gallery.html">
                <div class="icon-circle mb-2 bg-blue"><i class="zmdi zmdi-camera"></i></div>
                <p class="mb-0">Photos</p>
              </a>
            </li>
            <li>
              <a href="javascript:void(0);">
                <div class="icon-circle mb-2 bg-amber"><i class="zmdi zmdi-translate"></i></div>
                <p class="mb-0">Translate</p>
              </a>
            </li>
            <li>
              <a href="events.html">
                <div class="icon-circle mb-2 bg-green"><i class="zmdi zmdi-calendar"></i></div>
                <p class="mb-0">Calendar</p>
              </a>
            </li>
            <li>
              <a href="contact.html">
                <div class="icon-circle mb-2 bg-purple"><i class="zmdi zmdi-account-calendar"></i></div>
                <p class="mb-0">Contacts</p>
              </a>
            </li>
            <li>
              <a href="javascript:void(0);">
                <div class="icon-circle mb-2 bg-red"><i class="zmdi zmdi-tag"></i></div>
                <p class="mb-0">News</p>
              </a>
            </li>
            <li>
              <a href="javascript:void(0);">
                <div class="icon-circle mb-2 bg-grey"><i class="zmdi zmdi-map"></i></div>
                <p class="mb-0">Maps</p>
              </a>
            </li>
          </ul>
        </li>
      </ul>
    </li>
    <li class="dropdown">
      <a href="javascript:void(0);" class="dropdown-toggle" title="Notifications" data-toggle="dropdown" role="button"><i class="zmdi zmdi-notifications"></i>
        <div class="notify"><span class="heartbit"></span><span class="point"></span></div>
      </a>
      <ul class="dropdown-menu slideUp2">
        <li class="header">Notifications</li>
        <li class="body">
          <ul class="menu list-unstyled">
            <li>
              <a href="javascript:void(0);">
                <div class="icon-circle bg-blue"><i class="zmdi zmdi-account"></i></div>
                <div class="menu-info">
                  <h4>8 New Members joined</h4>
                  <p><i class="zmdi zmdi-time"></i> 14 mins ago </p>
                </div>
              </a>
            </li>
            <li>
              <a href="javascript:void(0);">
                <div class="icon-circle bg-amber"><i class="zmdi zmdi-shopping-cart"></i></div>
                <div class="menu-info">
                  <h4>4 Sales made</h4>
                  <p><i class="zmdi zmdi-time"></i> 22 mins ago </p>
                </div>
              </a>
            </li>
            <li>
              <a href="javascript:void(0);">
                <div class="icon-circle bg-red"><i class="zmdi zmdi-delete"></i></div>
                <div class="menu-info">
                  <h4><b>Nancy Doe</b> Deleted account</h4>
                  <p><i class="zmdi zmdi-time"></i> 3 hours ago </p>
                </div>
              </a>
            </li>
            <li>
              <a href="javascript:void(0);">
                <div class="icon-circle bg-green"><i class="zmdi zmdi-edit"></i></div>
                <div class="menu-info">
                  <h4><b>Nancy</b> Changed name</h4>
                  <p><i class="zmdi zmdi-time"></i> 2 hours ago </p>
                </div>
              </a>
            </li>
            <li>
              <a href="javascript:void(0);">
                <div class="icon-circle bg-grey"><i class="zmdi zmdi-comment-text"></i></div>
                <div class="menu-info">
                  <h4><b>John</b> Commented your post</h4>
                  <p><i class="zmdi zmdi-time"></i> 4 hours ago </p>
                </div>
              </a>
            </li>
            <li>
              <a href="javascript:void(0);">
                <div class="icon-circle bg-purple"><i class="zmdi zmdi-refresh"></i></div>
                <div class="menu-info">
                  <h4><b>John</b> Updated status</h4>
                  <p><i class="zmdi zmdi-time"></i> 3 hours ago </p>
                </div>
              </a>
            </li>
            <li>
              <a href="javascript:void(0);">
                <div class="icon-circle bg-light-blue"><i class="zmdi zmdi-settings"></i></div>
                <div class="menu-info">
                  <h4>Settings Updated</h4>
                  <p><i class="zmdi zmdi-time"></i> Yesterday </p>
                </div>
              </a>
            </li>
          </ul>
        </li>
        <li class="footer"> <a href="javascript:void(0);">View All Notifications</a> </li>
      </ul>
    </li>
    <li class="dropdown">
      <a href="javascript:void(0);" class="dropdown-toggle" data-toggle="dropdown" role="button"><i class="zmdi zmdi-flag"></i>
        <div class="notify"><span class="heartbit"></span><span class="point"></span></div>
      </a>
      <ul class="dropdown-menu slideUp2">
        <li class="header">Tasks List <small class="float-right"><a href="javascript:void(0);">View All</a></small></li>
        <li class="body">
          <ul class="menu tasks list-unstyled">
            <li>
              <div class="progress-container progress-primary">
                <span class="progress-badge">eCommerce Website</span>
                <div class="progress">
                  <div class="progress-bar progress-bar-warning" role="progressbar" aria-valuenow="86" aria-valuemin="0" aria-valuemax="100" style="width: 86%;">
                    <span class="progress-value">86%</span>
                  </div>
                </div>
                <ul class="list-unstyled team-info">
                  <li class="m-r-15"><small>Team</small></li>
                  <li>
                    <img src="/assets/images/xs/avatar2.jpg" alt="Avatar">
                  </li>
                  <li>
                    <img src="/assets/images/xs/avatar3.jpg" alt="Avatar">
                  </li>
                  <li>
                    <img src="/assets/images/xs/avatar4.jpg" alt="Avatar">
                  </li>
                </ul>
              </div>
            </li>
            <li>
              <div class="progress-container">
                <span class="progress-badge">iOS Game Dev</span>
                <div class="progress">
                  <div class="progress-bar progress-bar-warning" role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 45%;">
                    <span class="progress-value">45%</span>
                  </div>
                </div>
                <ul class="list-unstyled team-info">
                  <li class="m-r-15"><small>Team</small></li>
                  <li>
                    <img src="/assets/images/xs/avatar10.jpg" alt="Avatar">
                  </li>
                  <li>
                    <img src="/assets/images/xs/avatar9.jpg" alt="Avatar">
                  </li>
                  <li>
                    <img src="/assets/images/xs/avatar8.jpg" alt="Avatar">
                  </li>
                  <li>
                    <img src="/assets/images/xs/avatar7.jpg" alt="Avatar">
                  </li>
                  <li>
                    <img src="/assets/images/xs/avatar6.jpg" alt="Avatar">
                  </li>
                </ul>
              </div>
            </li>
            <li>
              <div class="progress-container progress-warning">
                <span class="progress-badge">Home Development</span>
                <div class="progress">
                  <div class="progress-bar progress-bar-warning" role="progressbar" aria-valuenow="29" aria-valuemin="0" aria-valuemax="100" style="width: 29%;">
                    <span class="progress-value">29%</span>
                  </div>
                </div>
                <ul class="list-unstyled team-info">
                  <li class="m-r-15"><small>Team</small></li>
                  <li>
                    <img src="/assets/images/xs/avatar5.jpg" alt="Avatar">
                  </li>
                  <li>
                    <img src="/assets/images/xs/avatar2.jpg" alt="Avatar">
                  </li>
                  <li>
                    <img src="/assets/images/xs/avatar7.jpg" alt="Avatar">
                  </li>
                </ul>
              </div>
            </li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="javascript:void(0);" class="app_calendar" title="Calendar"><i class="zmdi zmdi-calendar"></i></a></li>
    <li><a href="javascript:void(0);" class="app_google_drive" title="Google Drive"><i class="zmdi zmdi-google-drive"></i></a></li>
    <li><a href="javascript:void(0);" class="app_group_work" title="Group Work"><i class="zmdi zmdi-group-work"></i></a></li>
    <li><a href="javascript:void(0);" class="js-right-sidebar" title="Setting"><i class="zmdi zmdi-settings zmdi-hc-spin"></i></a></li>
    <li><a href="sign-in.html" class="mega-menu" title="Sign Out"><i class="zmdi zmdi-power"></i></a></li>
  </ul>
</div>

<!-- Left Sidebar -->
<aside id="leftsidebar" class="sidebar">
  <div class="navbar-brand">
    <button class="btn-menu ls-toggle-btn" type="button"><i class="zmdi zmdi-menu"></i></button>
    <a th:href="@{/home/admin}"><img src="/assets/images/logovinci.png" width="100" alt="Aero"><span class="m-l-10">Aero</span></a>
  </div>
  <div class="menu">
    <ul class="list">
      <li>
        <div class="user-info">
          <a class="image" th:href="@{/home/admin/profil}"><img src="/assets/images/profile_av.jpg" alt="User"></a>
          <div class="detail">
            <h4>Michael</h4>
            <small>Super Admin</small>
          </div>
        </div>
      </li>
      <li class="active open"><a th:href="@{/home/admin}"><i class="zmdi zmdi-home"></i><span>Dashboard</span></a></li>
      <li><a th:href="@{/home/admin/profil}"><i class="zmdi zmdi-account"></i><span>Profile</span></a></li>
      <li><a th:href="@{/home/admin/material}"><i class="zmdi zmdi-shopping-cart"></i><span>List of Materials</span></a></li>
      <li><a th:href="@{/home/admin/category}"><i class="zmdi zmdi-collection-add"></i><span>List of Categories</span></a></li>
      <li><a th:href="@{/home/admin/suppliers}"><i class="zmdi zmdi-store"></i><span>List of Suppliers</span></a></li>
      <li><a th:href="@{/home/admin/users}"><i class="zmdi zmdi-folder-person"></i><span>List of Users</span></a></li>
      <li><a th:href="@{/home/admin/notifications}"><i class="zmdi zmdi-notifications"></i><span>Notifications</span></a></li>
      <li><a th:href="@{/home/admin/inbox}"><i class="zmdi zmdi-inbox"></i><span>INBOX</span></a></li>
      <li>
        <div class="progress-container progress-primary m-t-10">
          <span class="progress-badge">Traffic this Month</span>
          <div class="progress">
            <div class="progress-bar progress-bar-warning" role="progressbar" aria-valuenow="67" aria-valuemin="0" aria-valuemax="100" style="width: 67%;">
              <span class="progress-value">67%</span>
            </div>
          </div>
        </div>
        <div class="progress-container progress-info">
          <span class="progress-badge">Server Load</span>
          <div class="progress">
            <div class="progress-bar progress-bar-warning" role="progressbar" aria-valuenow="86" aria-valuemin="0" aria-valuemax="100" style="width: 86%;">
              <span class="progress-value">86%</span>
            </div>
          </div>
        </div>
      </li>
    </ul>
  </div>
</aside>
<!-- End Left sidebar

<- Right Sidebar -->
<aside id="rightsidebar" class="right-sidebar">
  <ul class="nav nav-tabs sm">
    <li class="nav-item"><a class="nav-link active" data-toggle="tab" href="#setting"><i class="zmdi zmdi-settings zmdi-hc-spin"></i></a></li>
    <li class="nav-item"><a class="nav-link" data-toggle="tab" href="#chat"><i class="zmdi zmdi-comments"></i></a></li>
  </ul>
  <div class="tab-content">
    <div class="tab-pane active" id="setting">
      <div class="slim_scroll">
        <div class="card">
          <h6>Theme Option</h6>
          <div class="light_dark">
            <div class="radio">
              <input type="radio" name="radio1" id="lighttheme" value="light" checked="">
              <label for="lighttheme">Light Mode</label>
            </div>
            <div class="radio mb-0">
              <input type="radio" name="radio1" id="darktheme" value="dark">
              <label for="darktheme">Dark Mode</label>
            </div>
          </div>
        </div>
        <div class="card">
          <h6>Color Skins</h6>
          <ul class="choose-skin list-unstyled">
            <li data-theme="purple"><div class="purple"></div></li>
            <li data-theme="blue"><div class="blue"></div></li>
            <li data-theme="cyan"><div class="cyan"></div></li>
            <li data-theme="green"><div class="green"></div></li>
            <li data-theme="orange"><div class="orange"></div></li>
            <li data-theme="blush" class="active"><div class="blush"></div></li>
          </ul>
        </div>
        <div class="card">
          <h6>General Settings</h6>
          <ul class="setting-list list-unstyled">
            <li>
              <div class="checkbox rtl_support">
                <input id="checkbox1" type="checkbox" value="rtl_view">
                <label for="checkbox1">RTL Version</label>
              </div>
            </li>
            <li>
              <div class="checkbox ms_bar">
                <input id="checkbox2" type="checkbox" value="mini_active">
                <label for="checkbox2">Mini Sidebar</label>
              </div>
            </li>
            <li>
              <div class="checkbox">
                <input id="checkbox3" type="checkbox" checked="">
                <label for="checkbox3">Notifications</label>
              </div>
            </li>
            <li>
              <div class="checkbox">
                <input id="checkbox4" type="checkbox">
                <label for="checkbox4">Auto Updates</label>
              </div>
            </li>
            <li>
              <div class="checkbox">
                <input id="checkbox5" type="checkbox" checked="">
                <label for="checkbox5">Offline</label>
              </div>
            </li>
            <li>
              <div class="checkbox">
                <input id="checkbox6" type="checkbox" checked="">
                <label for="checkbox6">Location Permission</label>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="tab-pane right_chat" id="chat">
      <div class="slim_scroll">
        <div class="card">
          <ul class="list-unstyled">
            <li class="online">
              <a href="javascript:void(0);">
                <div class="media">
                  <img class="media-object " src="/assets/images/xs/avatar4.jpg" alt="">
                  <div class="media-body">
                    <span class="name">Sophia <small class="float-right">11:00AM</small></span>
                    <span class="message">There are many variations of passages of Lorem Ipsum available</span>
                    <span class="badge badge-outline status"></span>
                  </div>
                </div>
              </a>
            </li>
            <li class="online">
              <a href="javascript:void(0);">
                <div class="media">
                  <img class="media-object " src="/assets/images/xs/avatar5.jpg" alt="">
                  <div class="media-body">
                    <span class="name">Grayson <small class="float-right">11:30AM</small></span>
                    <span class="message">All the Lorem Ipsum generators on the</span>
                    <span class="badge badge-outline status"></span>
                  </div>
                </div>
              </a>
            </li>
            <li class="offline">
              <a href="javascript:void(0);">
                <div class="media">
                  <img class="media-object " src="/assets/images/xs/avatar2.jpg" alt="">
                  <div class="media-body">
                    <span class="name">Isabella <small class="float-right">11:31AM</small></span>
                    <span class="message">Contrary to popular belief, Lorem Ipsum</span>
                    <span class="badge badge-outline status"></span>
                  </div>
                </div>
              </a>
            </li>
            <li class="me">
              <a href="javascript:void(0);">
                <div class="media">
                  <img class="media-object " src="/assets/images/xs/avatar1.jpg" alt="">
                  <div class="media-body">
                    <span class="name">John <small class="float-right">05:00PM</small></span>
                    <span class="message">It is a long established fact that a reader</span>
                    <span class="badge badge-outline status"></span>
                  </div>
                </div>
              </a>
            </li>
            <li class="online">
              <a href="javascript:void(0);">
                <div class="media">
                  <img class="media-object " src="/assets/images/xs/avatar3.jpg" alt="">
                  <div class="media-body">
                    <span class="name">Alexander <small class="float-right">06:08PM</small></span>
                    <span class="message">Richard McClintock, a Latin professor</span>
                    <span class="badge badge-outline status"></span>
                  </div>
                </div>
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</aside>

<!-- Main Content -->

<section class="content">
  <div class="block-header">
    <div class="row">
      <div class="col-lg-7 col-md-6 col-sm-12">
        <h2>Dashboard</h2>
        <ul class="breadcrumb">
          <li class="breadcrumb-item"><a th:href="@{/home/admin}"><i class="zmdi zmdi-home"></i> Dashboard</a></li>
          <li class="breadcrumb-item active" th:href="@{/home/admin/category}">Manage Users</li>
        </ul>
        <button class="btn btn-primary btn-icon mobile_menu" type="button"><i class="zmdi zmdi-sort-amount-desc"></i></button>
      </div>
      <div class="col-lg-5 col-md-6 col-sm-12">
        <button class="btn btn-primary btn-icon float-right right_icon_toggle_btn" type="button"><i class="zmdi zmdi-arrow-right"></i></button>
        <!-- Add New Department Button -->
        <button class="btn btn-primary btn-icon float-right right_icon" type="button" data-toggle="modal" data-target="#addDepartmentModal">
          <i class="zmdi zmdi-plus"></i> Add New Department
        </button>
      </div>
    </div>
  </div>


  <div class="container-fluid">
    <div class="row clearfix">
      <div class="col-sm-12">
        <div class="card">
          <div class="header">
            <h2><strong>Welcome</strong> To Users Erea</h2>
            <ul class="header-dropdown">
              <li class="remove">
                <a role="button" class="boxs-close"><i class="zmdi zmdi-close"></i></a>
              </li>
            </ul>
          </div>
          <div class="body">

            <!-- Nav tabs -->
            <ul class="nav nav-tabs p-0 mb-3">
              <li class="nav-item"><a class="nav-link active" data-toggle="tab" href="#home">List Of Users</a></li>
              <li class="nav-item"><a class="nav-link" data-toggle="tab" href="#profile">Last 5 Users Added </a></li>
              <li class="nav-item"><a class="nav-link" data-toggle="tab" href="#messages">New User ?</a></li>
              <li class="nav-item"><a class="nav-link" data-toggle="tab" href="#messages1">Add New Department</a></li>
            </ul>
            <!-- Tab panes -->
            <div class="tab-content">
              <div role="tabpanel" class="tab-pane in active" id="home">
                <div class="container-fluid">
                  <!-- Exportable Table -->
                  <div class="row clearfix">
                    <div class="col-lg-12">
                      <div class="card">
                        <div class="header">
                          <ul class="header-dropdown">
                            <li class="dropdown">
                              <a href="" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                                <i class="zmdi zmdi-more"></i>
                              </a>
                              <ul class="dropdown-menu dropdown-menu-right slideUp">
                                <li th:each="department : ${departments}">
                                  <a th:href="@{'/department/' + ${department.id}}"
                                     th:text="${department.name}">Department</a>
                                </li>
                              </ul>
                            </li>
                            <li class="remove">
                              <a role="button" class="boxs-close"><i class="zmdi zmdi-close"></i></a>
                            </li>
                          </ul>
                        </div>
                        <div class="body">
                          <div class="table-responsive">
                            <table class="table table-bordered table-striped table-hover dataTable js-exportable">
                              <thead>
                              <tr>
                                <th class="text-center align-middle">Username</th>
                                <th class="text-center align-middle">Email</th>
                                <th class="text-center align-middle">First Name</th>
                                <th class="text-center align-middle">Last Name</th>
                                <th class="text-center align-middle">Department</th>
                                <th class="text-center align-middle">Role</th>
                                <th class="text-center align-middle">Action</th>
                              </tr>
                              </thead>
                              <tfoot>
                              <tr>
                                <th class="text-center align-middle">Username</th>
                                <th class="text-center align-middle">Email</th>
                                <th class="text-center align-middle">First Name</th>
                                <th class="text-center align-middle">Last Name</th>
                                <th class="text-center align-middle">Department</th>
                                <th class="text-center align-middle">Role</th>
                                <th class="text-center align-middle">Action</th>
                              </tr>
                              </tfoot>
                              <tbody>
                              <tr th:each="user : ${users}">
                                <td class="text-center align-middle" th:text="${user.username}"></td>
                                <td class="text-center align-middle" th:text="${user.email}"></td>
                                <td class="text-center align-middle" th:text="${user.firstName}"></td>
                                <td class="text-center align-middle" th:text="${user.lastName}"></td>
                                <td class="text-center align-middle" th:text="${user.department.name}"></td>
                                <td class="text-center align-middle">
                                  <span th:if="${user.role.id == 1}" class="badge badge-admin" th:text="${user.role.name}"></span>
                                  <span th:if="${user.role.id == 2}" class="badge badge-user" th:text="${user.role.name}"></span>
                                  <span th:if="${user.role.id == 3}" class="badge badge-manager" th:text="${user.role.name}"></span>
                                  <span th:if="${user.role.id == 4}" class="badge badge-guest" th:text="${user.role.name}"></span>
                                  <span th:if="${user.role.id != 1 and user.role.id != 2 and user.role.id != 3 and user.role.id != 4}" class="badge badge-default" th:text="${user.role.name}"></span>
                                </td>
                                <td class="text-center align-middle">
                                  <!-- Example Link to the Edit Page -->
                                  <a th:href="@{/home/admin/users/edit/{id}(id=${user.id})}" class="btn btn-default waves-effect waves-float btn-sm waves-green" title="Edit">
                                    <i class="zmdi zmdi-edit"></i>
                                  </a>
                                  <!-- Delete Button -->
                                  <a th:href="@{/home/admin/users/delete/{userId}(userId=${user.id})}"  class="btn btn-default waves-effect waves-float btn-sm waves-red" title="Delete"><i class="zmdi zmdi-delete"></i></a>

                                  <!-- More Details Button -->
                                  <a th:href="@{/home/admin/users/user/details/{userId}(userId=${user.id})}" class="btn btn-default waves-effect waves-float btn-sm waves-yellow" title="More Details"><i class="zmdi zmdi-view-column"></i></a>
                              </tr>
                              </tbody>
                            </table>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div role="tabpanel" class="tab-pane" id="profile">
                <div class="container-fluid">
                  <!-- Exportable Table -->
                  <div class="row clearfix">
                    <div class="col-lg-12">
                      <div class="card">
                        <div class="body">
                          <div class="table-responsive">
                            <table class="table table-bordered table-striped table-hover dataTable js-exportable">
                              <thead>
                              <tr>
                                <th style="text-align: center; vertical-align: middle;">Id</th>
                                <th style="text-align: center; vertical-align: middle;">Username</th>
                                <th style="text-align: center; vertical-align: middle;">Password</th>
                                <th style="text-align: center; vertical-align: middle;">Email</th>
                                <th style="text-align: center; vertical-align: middle;">First Name</th>
                                <th style="text-align: center; vertical-align: middle;">Last Name</th>
                                <th style="text-align: center; vertical-align: middle;">Phone</th>
                                <th style="text-align: center; vertical-align: middle;">Address</th>
                                <th style="text-align: center; vertical-align: middle;">Role</th>
                                <th style="text-align: center; vertical-align: middle;">Action</th>
                              </tr>
                              </thead>
                              <tfoot>
                              <tr>
                                <th style="text-align: center; vertical-align: middle;">Id</th>
                                <th style="text-align: center; vertical-align: middle;">Username</th>
                                <th style="text-align: center; vertical-align: middle;">Password</th>
                                <th style="text-align: center; vertical-align: middle;">Email</th>
                                <th style="text-align: center; vertical-align: middle;">First Name</th>
                                <th style="text-align: center; vertical-align: middle;">Last Name</th>
                                <th style="text-align: center; vertical-align: middle;">Phone</th>
                                <th style="text-align: center; vertical-align: middle;">Address</th>
                                <th style="text-align: center; vertical-align: middle;">Role</th>
                                <th style="text-align: center; vertical-align: middle;">Action</th>
                              </tr>
                              </tfoot>
                              <tbody>
                              <tr>
                                <td style="text-align: center; vertical-align: middle;">1</td>
                                <td style="text-align: center; vertical-align: middle;">johndoe</td>
                                <td style="text-align: center; vertical-align: middle;">password123</td>
                                <td style="text-align: center; vertical-align: middle;">johndoe@example.com</td>
                                <td style="text-align: center; vertical-align: middle;">John</td>
                                <td style="text-align: center; vertical-align: middle;">Doe</td>
                                <td style="text-align: center; vertical-align: middle;">1234567890</td>
                                <td style="text-align: center; vertical-align: middle;">123 Elm Street</td>
                                <td style="text-align: center; vertical-align: middle;"><span class="badge badge-success">Admin</span></td>
                                <td style="text-align: center; vertical-align: middle;">
                                  <a href="javascript:void(0);" class="btn btn-default waves-effect waves-float btn-sm waves-green" data-toggle="modal" data-target="#defaultModal"><i class="zmdi zmdi-edit"></i></a>
                                  <a href="javascript:void(0);" class="btn btn-default waves-effect waves-float btn-sm waves-red"><i class="zmdi zmdi-delete"></i></a>
                                </td>
                              </tr>
                              </tbody>
                            </table>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div role="tabpanel" class="tab-pane" id="messages">
                <!-- Advanced Form Example With Validation -->
                <div class="row clearfix">
                  <div class="col-lg-12 col-md-12 col-sm-12">
                    <div class="card">
                      <div class="body">
                        <form id="user-form" th:action="@{/home/admin/users/add}" method="post" enctype="multipart/form-data">
                          <fieldset>
                            <div class="form-group form-float">
                              <input type="text" id="username" class="form-control" placeholder="Username *" name="username" required>
                              <span id="username-message" class="form-text text-muted"></span>
                            </div>
                            <div class="form-group form-float">
                              <input type="email" id="email" name="email" placeholder="Email *" class="form-control" required>
                              <span id="email-message" class="form-text text-muted"></span>
                            </div>
                            <div class="form-group form-float">
                              <input type="text" id="phone" name="phone" placeholder="Phone Number *" class="form-control" required>
                              <span id="phone-message" class="form-text text-muted"></span>
                            </div>
                            <div class="form-group form-float">
                              <select id="role" class="form-control show-tick" name="roleId" required>
                                <option value="">-- Please select --</option>
                                <option th:each="role : ${roles}" th:value="${role.id}" th:text="${role.name.getDisplayName()}"></option>
                              </select>
                            </div>
                            <div class="form-group form-float">
                              <select id="department" class="form-control show-tick" name="departmentId" required>
                                <option value="">-- Please select --</option>
                                <option th:each="department : ${departments}" th:value="${department.id}" th:text="${department.name}"></option>
                              </select>
                            </div>
                          </fieldset>
                          <fieldset>
                            <div class="form-group form-float">
                              <input type="text" name="firstName" placeholder="First Name *" class="form-control" required>
                            </div>
                            <div class="form-group form-float">
                              <input type="text" id="lastName" name="lastName" placeholder="Last Name *" class="form-control" required>
                              <span id="lastName-message" class="form-text text-muted"></span>
                            </div>
                            <div class="form-group form-float">
                              <input type="text" id="address" name="address" class="form-control" placeholder="Address *">
                              <span id="address-message" class="form-text text-muted"></span>
                            </div>
                            <div class="form-group form-float">
                              <input type="file" name="profilePicture" accept="image/*" class="form-control" onchange="loadImage(event)" required>
                              <img id="profile-picture-preview" src="#" alt="Profile Picture Preview" style="display: none; max-width: 100%; height: auto;" />
                            </div>
                          </fieldset>
                          <fieldset>
                            <div class="form-group form-float password-wrapper">
                              <input type="password" id="password" name="password" placeholder="Password *" class="form-control" required>
                            </div>
                            <div class="form-group form-float password-wrapper">
                              <input type="password" id="confirmPassword" name="confirmPassword" placeholder="Confirm Password *" class="form-control" required>
                              <span id="password-message" class="form-text"></span>
                            </div>
                          </fieldset>
                          <fieldset>
                            <div class="form-group text-center">
                              <button type="submit" class="btn btn-primary wavy-button">Submit</button>
                            </div>
                          </fieldset>
                        </form>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div role="tabpanel" class="tab-pane" id="messages1">
                <div class="row clearfix">
                  <div class="col-lg-12 col-md-12 col-sm-12">
                    <div class="card">
                      <div class="body">
                        <!-- Exportable Table -->
                        <div class="row clearfix">
                          <div class="col-lg-12">
                            <div class="card">
                              <div class="body">
                                <div class="table-responsive">
                                  <table class="table table-bordered table-striped table-hover dataTable js-exportable">
                                    <thead>
                                    <tr>
                                      <th style="text-align: center; vertical-align: middle;">Id</th>
                                      <th style="text-align: center; vertical-align: middle;">Department Name</th>
                                      <th style="text-align: center; vertical-align: middle;">Total Of Users(including users with role ADMIN)</th>
                                      <th style="text-align: center; vertical-align: middle;">Total Of Admins</th>
                                      <th style="text-align: center; vertical-align: middle;">Action</th>
                                    </tr>
                                    </thead>
                                    <tfoot>
                                    <tr>
                                      <th style="text-align: center; vertical-align: middle;">Id</th>
                                      <th style="text-align: center; vertical-align: middle;">Department Name</th>
                                      <th style="text-align: center; vertical-align: middle;">Total Of Users(including users with role ADMIN)</th>
                                      <th style="text-align: center; vertical-align: middle;">Total Of Admins</th>
                                      <th style="text-align: center; vertical-align: middle;">Action</th>
                                    </tr>
                                    </tfoot>
                                    <tbody>
                                    <tr th:each="dp : ${departmentsDto}">
                                      <td th:text="${dp.id}" style="text-align: center; vertical-align: middle;"></td>
                                      <td th:text="${dp.name}" style="text-align: center; vertical-align: middle;"></td>
                                      <td style="text-align: center; vertical-align: middle;">
                                        <span class="badge badge-success">
                                            <span th:text="${dp.totalUsers}"></span>
                                        </span>
                                      </td>
                                      <td style="text-align: center; vertical-align: middle;">
                                              <span class="badge badge-warning">
                                                  <span th:text="${dp.totalAdmins}"></span>
                                              </span>
                                      </td>
                                      <td style="text-align: center; vertical-align: middle;">
                                        <a href="#" th:href="@{/home/admin/users/delete/department/{id}(id=${dp.id})}" class="btn btn-danger btn-sm" onclick="return confirm('Are you sure you want to delete this department?');">
                                          <i class="zmdi zmdi-delete"></i> Delete
                                        </a>
                                      </td>
                                    </tr>
                                    <!-- Repeat the above <tr> block for each department -->
                                    </tbody>
                                  </table>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Popup -->
<div id="popup" class="popup">
  <div class="popup-content">
    <span id="popup-close" class="popup-close">&times;</span>
    <p id="popup-message"></p>
  </div>
</div>


<!-- Modal for Adding Department -->
<div class="modal fade" id="addDepartmentModal" tabindex="-1" role="dialog" aria-labelledby="addDepartmentModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="addDepartmentModalLabel">Add New Department</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <form id="addDepartmentForm" th:action="@{/home/admin/users/add/department}" method="post">
        <div class="modal-body">
          <div class="form-group">
            <label for="departmentName">Name of Department</label>
            <input type="text" class="form-control" id="departmentName" name="name" required>
          </div>
        </div>
        <div class="modal-footer">

          <button type="submit" class="btn btn-primary">Save Department</button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- Default Size -->
<div class="modal fade" id="defaultModal" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="title" id="defaultModalLabel">User To Be Updated</h4>
      </div>
      <div class="modal-body">
        <div class="body">
          <form id="form_validation" method="POST">
            <div class="form-group form-float">
              <input type="text" name="name" placeholder="First Name *" class="form-control" required>
            </div>
            <div class="form-group form-float">
              <input type="text" name="surname" placeholder="Last Name *" class="form-control" required>
            </div>
            <div class="form-group form-float">
              <input type="email" name="email" placeholder="Email *" class="form-control" required>
            </div>
            <div class="form-group form-float">
              <input type="text" name="phonenumber" placeholder="Phone Number *" class="form-control" required>
            </div>
            <div class="form-group form-float">
              <input type="text" name="password" placeholder="Users's Password *" class="form-control" required>
            </div>
            <div class="form-group form-float">
              <textarea name="address" cols="30" rows="3" placeholder="Address *" class="form-control no-resize" required></textarea>
            </div>
            <div class="form-group form-float">
              <select name="role" class="form-control" required>
                <option value="" disabled selected>Select Role *</option>
                <option value="user">User</option>
                <option value="manager">Manager</option>
                <option value="guest">Guest</option>
              </select>
            </div>
            <div class="modal-footer">
              <button class="btn btn-raised btn-primary waves-effect" type="submit">UPDATE NOW</button>
              <button type="button" class="btn btn-danger waves-effect" data-dismiss="modal">CLOSE</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>





<script>
  $(document).ready(function() {
    $('#addDepartmentForm').on('submit', function(event) {
      event.preventDefault(); // Prevent the default form submission

      $.ajax({
        type: 'POST',
        url: $(this).attr('action'),
        data: $(this).serialize(),
        success: function(response) {
          Swal.fire({
            title: 'Success',
            text: 'Department added successfully!',
            icon: 'success',
            confirmButtonText: 'OK'
          }).then(() => {
            $('#addDepartmentModal').modal('hide');
            // Optionally, refresh the page or update the department list
          });
        },
        error: function() {
          Swal.fire({
            title: 'Error',
            text: 'An error occurred while adding the department.',
            icon: 'error',
            confirmButtonText: 'OK'
          });
        }
      });
    });
  });
</script>
  <!-- Jquery Core Js -->
  <script src="/assets/bundles/libscripts.bundle.js"></script> <!-- Lib Scripts Plugin Js ( jquery.v3.2.1, Bootstrap4 js) -->
  <script src="/assets/bundles/vendorscripts.bundle.js"></script> <!-- slimscroll, waves Scripts Plugin Js -->

  <script src="/assets/bundles/jvectormap.bundle.js"></script> <!-- JVectorMap Plugin Js -->
  <script src="/assets/bundles/sparkline.bundle.js"></script> <!-- Sparkline Plugin Js -->
  <script src="/assets/bundles/c3.bundle.js"></script>
  <script src="/assets/plugins/jquery-validation/jquery.validate.js"></script> <!-- Jquery Validation Plugin Css -->
  <script src="/assets/plugins/jquery-steps/jquery.steps.js"></script> <!-- JQuery Steps Plugin Js -->
  <script src="/assets/js/pages/forms/form-wizard.js"></script>
  <!-- Jquery DataTable Plugin Js -->
  <script src="/assets/bundles/datatablescripts.bundle.js"></script>
  <script src="/assets/plugins/jquery-datatable/buttons/dataTables.buttons.min.js"></script>
  <script src="/assets/plugins/jquery-datatable/buttons/buttons.bootstrap4.min.js"></script>
  <script src="/assets/plugins/jquery-datatable/buttons/buttons.colVis.min.js"></script>
  <script src="/assets/plugins/jquery-datatable/buttons/buttons.flash.min.js"></script>
  <script src="/assets/plugins/jquery-datatable/buttons/buttons.html5.min.js"></script>
  <script src="/assets/plugins/jquery-datatable/buttons/buttons.print.min.js"></script>
  <script src="/assets/js/pages/forms/form-validation.js"></script>
  <script src="/assets/plugins/bootstrap-colorpicker/js/bootstrap-colorpicker.js"></script> <!-- Bootstrap Colorpicker Js -->
  <script src="/assets/plugins/jquery-inputmask/jquery.inputmask.bundle.js"></script> <!-- Input Mask Plugin Js -->
  <script src="/assets/plugins/multi-select/js/jquery.multi-select.js"></script> <!-- Multi Select Plugin Js -->
  <script src="/assets/plugins/jquery-spinner/js/jquery.spinner.js"></script> <!-- Jquery Spinner Plugin Js -->
  <script src="/assets/plugins/bootstrap-tagsinput/bootstrap-tagsinput.js"></script> <!-- Bootstrap Tags Input Plugin Js -->
  <script src="/assets/plugins/nouislider/nouislider.js"></script> <!-- noUISlider Plugin Js -->

  <script src="/assets/plugins/select2/select2.min.js"></script> <!-- Select2 Js -->
  <script src="/assets/js/pages/forms/basic-form-elements.js"></script>
  <script src="/assets/bundles/mainscripts.bundle.js"></script><!-- Custom Js -->
  <script src="/assets/js/pages/tables/jquery-datatable.js"></script>
  <script src="/assets/js/pages/forms/advanced-form-elements.js"></script>

<script>
    function loadImage(event) {
      const preview = document.getElementById('profile-picture-preview');
      const file = event.target.files[0];

      if (file) {
        const reader = new FileReader();

        reader.onload = function(e) {
          preview.src = e.target.result;
          preview.style.display = 'block'; // Show the image preview
        };

        reader.readAsDataURL(file);
      } else {
        preview.src = '#';
        preview.style.display = 'none'; // Hide the preview if no file is selected
      }
    }
  </script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const form = document.getElementById('user-form');
      const popup = document.getElementById('popup');
      const popupClose = document.getElementById('popup-close');
      const popupMessage = document.getElementById('popup-message');

      const checkField = async (field, value, type, messageElementId) => {
        const response = await fetch(`/home/admin/users/check?${type}=${encodeURIComponent(value)}`);
        const data = await response.json();

        const messageElement = document.getElementById(messageElementId);

        if (type === 'username' && data.usernameExists) {
          field.classList.add('error');
          field.classList.remove('success');
          messageElement.textContent = 'Username already exists.';
          return false;
        } else if (type === 'email' && data.emailExists) {
          field.classList.add('error');
          field.classList.remove('success');
          messageElement.textContent = 'Email already exists.';
          return false;
        } else if (type === 'phone' && data.phoneExists) {
          field.classList.add('error');
          field.classList.remove('success');
          messageElement.textContent = 'Phone number already exists.';
          return false;
        } else if (type === 'lastName' && data.lastNameExists) {
          field.classList.add('error');
          field.classList.remove('success');
          messageElement.textContent = 'Last name already exists.';
          return false;
        } else if (type === 'address' && data.addressExists) {
          field.classList.add('error');
          field.classList.remove('success');
          messageElement.textContent = 'Address already exists.';
          return false;
        } else {
          field.classList.remove('error');
          field.classList.add('success');
          messageElement.textContent = ''; // Clear message if valid
          return true;
        }
      };

      document.getElementById('username').addEventListener('input', function() {
        checkField(this, this.value, 'username', 'username-message');
      });

      document.getElementById('email').addEventListener('input', function() {
        checkField(this, this.value, 'email', 'email-message');
      });

      document.getElementById('phone').addEventListener('input', function() {
        checkField(this, this.value, 'phone', 'phone-message');
      });

      document.getElementById('lastName').addEventListener('input', function() {
        checkField(this, this.value, 'lastName', 'lastName-message');
      });

      document.getElementById('address').addEventListener('input', function() {
        checkField(this, this.value, 'address', 'address-message');
      });


      // Password live validation
      const password = document.getElementById('password');
      const confirmPassword = document.getElementById('confirmPassword');
      const passwordMessage = document.getElementById('password-message');

      function validatePasswords() {
        if (password.value && confirmPassword.value) {
          if (password.value === confirmPassword.value) {
            password.classList.remove('error');
            confirmPassword.classList.remove('error');
            password.classList.add('success');
            confirmPassword.classList.add('success');
            passwordMessage.textContent = '';
          } else {
            password.classList.add('error');
            confirmPassword.classList.add('error');
            passwordMessage.textContent = 'Passwords do not match.';
          }
        }
      }

      password.addEventListener('input', validatePasswords);
      confirmPassword.addEventListener('input', validatePasswords);

      form.addEventListener('submit', async function(event) {
        event.preventDefault(); // Prevent form submission for custom validation

        const usernameValid = await checkField(document.getElementById('username'), document.getElementById('username').value, 'username', 'username-message');
        const emailValid = await checkField(document.getElementById('email'), document.getElementById('email').value, 'email', 'email-message');
        const phoneValid = await checkField(document.getElementById('phone'), document.getElementById('phone').value, 'phone', 'phone-message');
        const lastNameValid = await checkField(document.getElementById('lastName'), document.getElementById('lastName').value, 'lastName', 'lastName-message');
        const addressValid = await checkField(document.getElementById('address'), document.getElementById('address').value, 'address', 'address-message');

        const passwordsValid = password.value === confirmPassword.value;

        if (usernameValid && emailValid && phoneValid && lastNameValid && addressValid &&  passwordsValid) {
          form.submit(); // Submit the form if all checks pass
        } else {
          popupMessage.textContent = 'Please correct the highlighted fields before submitting.';
          popup.style.display = 'flex';
        }
      });

      popupClose.addEventListener('click', function() {
        popup.style.display = 'none';
      });
    });


  </script>

</body>
</html>